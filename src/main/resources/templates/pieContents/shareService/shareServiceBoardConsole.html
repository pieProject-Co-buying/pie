<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/admin}">
<!-------------------------------------------------------------->
<div layout:fragment="adminContent" class="col">
	<!-------------------------------------------------------------->
	<div class="container-sm p-0 mt-5 notice">
		<div class="page-title">
			<div class="container-fluid">
				<h3>게시글 관리</h3>
			</div>
		</div>
		<!-------------------------------------------------------------->
		<div id="board-search" class="container-fluid">
			<div class="container-fluid p-0">
					<small>
						<a href="shareServiceBoardConsole?category=Proxy">동네공구</a>
						<small> / </small>
						<a href="shareServiceBoardConsole?category=Share">서비스공유</a>
					</small>
				<div class="search-window">
					<form action="searchBoardName" >
					<input type="hidden" name = "page" value="1" />
						<div class="search-wrap">
							<label for="search" class="blind">게시글 검색</label> <input
								type="text" id="search" name="search" placeholder="검색어를 입력해주세요.">
							<button type="submit" class="btn btn-dark">검색</button>
						</div>
					</form>
				</div>
			</div>
		</div>
		<!-------------------------------------------------------------->
		<div id="board-list" class="container-fluid">
			<div class="container-fluid p-0">
				<table class="board-table mt-1">
					<thead>
						<tr>
							<th scope="col" class="th-num">번호</th>
							<th scope="col" class="th-num">카테고리</th>
							<th scope="col" class="th-num">작성자ID</th>
							<th scope="col" class="th-num">제목</th>
							<!-- <th scope="col" class="th-num d-none d-md-block">닉네임</th>
							<th scope="col" class="th-date d-none d-md-block">등록일</th>
							<th scope="col" class="th-date">마감일</th> -->
							<th scope="col" class="th-num">진행현황</th>
							<th scope="col" class="th-num">현황변경</th>
						</tr>
					</thead>
					<tbody>
						<th:block th:each="board:${list}">
								<tr>
									<td th:text="${board.getNum()}"></td>
									<td th:text="${board.getCategory()}"></td>
									<td th:text="${board.getId}"></td>
									<th>
										<b>
											<a class="d-block text-truncate" style="max-width:100px;" th:href="'boardList?num='+${board.getNum()}" th:text="${board.getTitle()}"></a>
										</b>
									</th>
									<td>
										<small class="badge badge-secondary" th:if="${board.getProcess().equals('3')}"> 기간만료</small> 
										<small class="badge badge-warning" th:if="${board.getProcess().equals('2')}"> 모집중단</small> 
										<small class="badge badge-success" th:if="${board.getProcess().equals('1')}"> 모집진행중</small> 
										<small class="badge badge-danger" th:if="${board.getProcess().equals('0')}"> 모집완료</small>
									</td> 
									<td>
										<th:block th:if="${board.getProcess().equals('1') || board.getProcess().equals('2')}"> <!-- || board.getPersonnelNow() < board.getPersonnelMax() -->									
											<a th:href="'processRemote?page=1&num='+${board.getNum()}" class="badge badge-warning">
												<b>변경</b>
											</a>
										</th:block>
										<th:block th:if="${board.getProcess().equals('0') && board.getPersonnelNow() >= board.getPersonnelMax()}">
											<span class="badge badge-secondary">변경불가</span>
										</th:block>
									</td>
								</tr>
						</th:block>
					</tbody>
				</table>
			</div>
		</div>
		<div class="container">
			<div class="row">
				<div class="col">
					<div class="row mt-5">
						<div class="col d-flex justify-content-center">
							<nav aria-label="Page navigation example">
								<ul class="pagination">
									<li class="page-item"><a class="page-link"
										href="shareServiceBoardConsole?page=1" aria-label="Previous">
											<span aria-hidden="true">&laquo;</span>
									</a></li>
									<th:block th:each="i : ${#numbers.sequence(1,pageNum)}">
										<li class="page-item"><a class="page-link"
											th:href="@{'shareServiceBoardConsole?page='+${i}}"
											th:text="${i}"></a></li>
									</th:block>
									<li class="page-item"><a class="page-link"
										th:href="@{'shareServiceBoardConsole?page='+${pageNum}}"
										aria-label="Next"> <span aria-hidden="true">&raquo;</span>
									</a></li>
								</ul>
							</nav>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</html>