<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="com.pie.pieProject.DAO.ITownBuyBoardDao">



	<select id="listDao" resultType="com.pie.pieProject.DTO.TownBuyBoardDto">
	
		select * from townBuyBoard order by to_num desc
		
	</select>


	
	
	
	<!-- 프리미엄 목록 가져올 쿼리문 -->
	<select id="listPremiumDao" resultType="com.pie.pieProject.DTO.TownBuyBoardDto">
	
		select * from townBuyBoard where to_premium = #{param1}
		
	</select>
	
	
		

	
	<select id="viewDao" resultType="com.pie.pieProject.DTO.TownBuyBoardDto">
	
		select * from townBuyBoard where to_num = #{param1}
		
	</select>
	
	
	
	
	
	<update id="updateDao">
	

	
	    update townBuyBoard 
	    set to_category = #{to_category},
	        to_title = #{to_title},
	        to_content = #{to_content},
	        to_price =  #{to_price},
	        to_personnelMax =  #{to_personnelMax}, 
	        to_deadLine = TO_DATE(#{to_deadLine}, 'YYYY-MM-DD') 
	    where to_num = #{to_num}
    
    		
	</update>	
	
	

	<delete id="deleteDao">
	
		delete townBuyBoard where to_num = #{param1}
		
	</delete>
	
	
	<select id="searchDao" resultType="com.pie.pieProject.DTO.TownBuyBoardDto">
	    select * from townBuyBoard where to_title like '%${param1}%' or to_content like '%${param1}%'
	</select>
		
	
	
	<select id="categoryDao" resultType="com.pie.pieProject.DTO.TownBuyBoardDto">
	    select * from townBuyBoard where to_category = #{param1}
	</select>
	
	
	<insert id="writeDao">
	
		insert into townBuyBoard (to_num, to_category, to_title, to_content, to_price, to_personnelMax, to_deadLine) 
		values(to_num.nextval, #{to_category}, #{to_title}, #{to_content}, #{to_price}, #{to_personnelMax}, TO_DATE(#{to_deadLine}, 'YYYY-MM-DD'))




	</insert>
		
	 	
	
	
	
	
</mapper>